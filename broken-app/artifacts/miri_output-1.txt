    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.04s
     Running unittests src/lib.rs (/home/comrade77/RustProjects/rustoration/target/miri/x86_64-unknown-linux-gnu/debug/deps/broken_app-d67071fc01f97b89)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s

     Running unittests src/bin/demo.rs (/home/comrade77/RustProjects/rustoration/target/miri/x86_64-unknown-linux-gnu/debug/deps/demo-1f3a97453bc7dc0d)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s

     Running tests/integration.rs (/home/comrade77/RustProjects/rustoration/target/miri/x86_64-unknown-linux-gnu/debug/deps/integration-e6371e491d211055)

running 6 tests
test averages_only_positive ... ok
test counts_non_zero_bytes ... ok
test dedup_preserves_uniques ... ok
test fib_small_numbers ... ok
test normalize_simple ... ok
test sums_even_numbers ... ok

test result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.72s

error: memory leaked: alloc43009 (Rust heap, size: 5, align: 1), allocated here:
   --> /home/comrade77/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:449:41
    |
449 |             AllocInit::Uninitialized => alloc.allocate(layout),
    |                                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: stack backtrace:
            0: alloc::raw_vec::RawVecInner::try_allocate_in
                at /home/comrade77/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:449:41: 449:63
            1: alloc::raw_vec::RawVecInner::with_capacity_in
                at /home/comrade77/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:418:15: 418:92
            2: alloc::raw_vec::RawVec::<u8>::with_capacity_in
                at /home/comrade77/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/raw_vec/mod.rs:177:20: 177:77
            3: std::vec::Vec::<u8>::with_capacity_in
                at /home/comrade77/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:967:20: 967:61
            4: <u8 as std::slice::<impl [T]>::to_vec_in::ConvertVec>::to_vec::<std::alloc::Global>
                at /home/comrade77/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:448:29: 448:62
            5: std::slice::<impl [u8]>::to_vec_in::<std::alloc::Global>
                at /home/comrade77/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:400:16: 400:38
            6: std::slice::<impl [u8]>::to_vec
                at /home/comrade77/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/slice.rs:376:9: 376:31
            7: broken_app::leak_buffer
                at broken-app/src/lib.rs:23:17: 23:31
            8: counts_non_zero_bytes
                at broken-app/tests/integration.rs:13:16: 13:34
            9: counts_non_zero_bytes::{closure#0}
                at broken-app/tests/integration.rs:11:27: 11:27

note: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace

note: set `MIRIFLAGS=-Zmiri-ignore-leaks` to disable this check

error: aborting due to 1 previous error

error: test failed, to rerun pass `--test integration`

Caused by:
  process didn't exit successfully: `/home/comrade77/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/cargo-miri runner /home/comrade77/RustProjects/rustoration/target/miri/x86_64-unknown-linux-gnu/debug/deps/integration-e6371e491d211055` (exit status: 1)
note: test exited abnormally; to see the full output pass --no-capture to the harness.
